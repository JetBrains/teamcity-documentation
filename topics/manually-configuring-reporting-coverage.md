[//]: # (title: Manually Configuring Reporting Coverage)
[//]: # (auxiliary-id: Manually Configuring Reporting Coverage)
If you run .NET tests using [NUnit](nunit.md), [MSpec](mspec.md) or [.NET Process Runner](net-process-runner.md) runners or run NUnit tests via supported tasks of [MSBuild](msbuild.md) or [NAnt](nant.md) runners, you can turn on coverage collection in the TeamCity web UI for the specific runner.

For other cases, when the .NET code coverage is collected by the build script and needs to be reported inside TeamCity (for example, [Rake](rake.md), or if you run NUnit tests via a test launcher other than TeamCity NUnit Test Launcher), there is a way to let TeamCity know about the coverage data.

Make sure the build script actually collects the code coverage according to the coverage engine documentation.

Report the collected data to TeamCity via [Build Script Interaction with TeamCity](build-script-interaction-with-teamcity.md).   

First, the build script needs to let TeamCity know details on the coverage engine with the "dotNetCoverage" message.   
Then, the build script can issue one or several "importData" messages to import the actual code coverage data files collected.   
As a result, TeamCity will display coverage statistics and an HTML report for the coverage.

## Configuring Code Coverage Engine


Use the following service message template:

```Plain Text
##teamcity[dotNetCoverage <key>='<value>' <key1>='<value1>' ...]
```

where `key` is one of the following:   

__For dotCover (optional)__:


<table>
<tr>


<td>

Key 


</td>


<td>

Description 


</td>
</tr>
<tr>


<td>

`dotcover_home`


</td>


<td>

The full path to the dotCover home folder to override the bundled dotCover. 


</td>
</tr>
</table>



__For NCover 3.x__:


<table>
<tr>


<td>

Key 


</td>


<td>

Description 


</td>


<td>

Sample value 


</td>
</tr>
<tr>


<td>

`ncover3_home`


</td>


<td>

Full path to NCover installation folder. 


</td>


<td>

The path to the NCover3 installation directory 


</td>
</tr>
<tr>


<td>

`ncover3_reporter_args`


</td>


<td>

Arguments for the NCover report generator.


</td>


<td>

Set `//or FullCoverageReport:Html:{teamcity.report.path}` or another NCover commandline argument 


</td>
</tr>
</table>



__For NCover 1.x__:


<table>
<tr>


<td>

Key 


</td>


<td>

Description 


</td>


<td>

Sample value 


</td>
</tr>
<tr>


<td>

`ncover_explorer_tool`


</td>


<td>

Path to NCoverExplorer. 


</td>


<td>

Path to NCoverExplorer 


</td>
</tr>
<tr>


<td>

`ncover_explorer_tool_args`


</td>


<td>

Additional arguments for NCover 1.x. 


</td>


<td>

 


</td>
</tr>
<tr>


<td>

`ncover_explorer_report_type`


</td>


<td>

Value for `/report:` argument. 


</td>


<td>

1 


</td>
</tr>
<tr>


<td>

`ncover_explorer_report_order`


</td>


<td>

Value for `/sort:` argument.


</td>


<td>

1 


</td>
</tr>
</table>

__For PartCover__:


<table>
<tr>


<td>

Key 


</td>


<td>

Description 


</td>


<td>

Value 


</td>
</tr>
<tr>


<td>

`partcover_report_xslts`


</td>


<td>

Write xslt transformation rules one per line (use `|n` as separator) in the following format: `file.xslt=>generatedFileName.html`.


</td>


<td>

`file.xslt=>generatedFileName.html`


</td>
</tr>
</table>




## Importing Coverage Data Files


To pass an XML report generated by a coverage tool to TeamCity, in your build script use the following service message:

```Plain Text
##teamcity[importData type='dotNetCoverage' tool='<tool_name>' path='<path_to_the_results_file>']

```

where `tool_name` can be __dotcover__, __partcover__, __ncover__ or __ncover3__. 


<warning>

For dotCover you should send paths to the __snapshot__ file that is generated by the `dotCover.exe cover` command.
</warning>

__ __